{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\40741\\\\IdeaProjects\\\\lawsome-app\\\\src\\\\components\\\\DocumentModal.jsx\",\n  _s = $RefreshSig$();\n// src/components/DocumentModal.jsx\n\nimport React, { useState, useEffect } from 'react';\nimport { doc, getDoc } from 'firebase/firestore';\nimport { db } from '../InitApp/firebase';\nimport { X } from \"lucide-react\";\n\n// (Stilurile rÄƒmÃ¢n neschimbate)\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst modalOverlayStyle = {/* ... */};\nconst modalContentStyle = {/* ... */};\nconst closeButtonStyle = {/* ... */};\nconst closeIconStyle = {/* ... */};\nexport const DocumentModal = ({\n  documentId,\n  onClose\n}) => {\n  _s();\n  const [documentContent, setDocumentContent] = useState(null);\n  const [loadingContent, setLoadingContent] = useState(true);\n\n  // FUNCTIE PENTRU PRELUAREA CONTINUTULUI LA DESCHIDEREA MODALULUI\n  useEffect(() => {\n    const fetchContent = async () => {\n      try {\n        setLoadingContent(true);\n        const docRef = doc(db, \"documentModels\", documentId);\n        const docSnap = await getDoc(docRef);\n        if (docSnap.exists()) {\n          const data = docSnap.data();\n\n          // ðŸš¨ VERIFICARE CRITICÄ‚ AICI:\n          if (!data.continut || data.continut.trim() === '') {\n            console.error(`Documentul (ID: ${documentId}) nu are cÃ¢mpul 'continut' populat.`, data);\n            alert(\"Eroare: ConÈ›inutul text al documentului este gol sau lipseÈ™te din Firebase.\");\n            onClose();\n            return; // Oprim execuÈ›ia È™i Ã®nchidem modalul\n          }\n          setDocumentContent({\n            id: docSnap.id,\n            ...data\n          });\n        } else {\n          alert(\"ConÈ›inutul documentului nu a fost gÄƒsit.\");\n          onClose();\n        }\n        setLoadingContent(false);\n      } catch (error) {\n        console.error(\"Eroare la preluarea conÈ›inutului Firestore Ã®n modal:\", error);\n        alert(\"A apÄƒrut o eroare la Ã®ncÄƒrcarea conÈ›inutului.\");\n        onClose();\n      }\n    };\n    if (documentId) {\n      fetchContent();\n    }\n  }, [documentId, onClose]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: modalOverlayStyle,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: modalContentStyle,\n      children: [loadingContent || !documentContent ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Se \\xEEncarc\\u0103 con\\u021Binutul documentului...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            marginBottom: '15px'\n          },\n          children: documentContent.titlu\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n          style: {\n            marginBottom: '20px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            maxHeight: '70vh',\n            overflowY: 'auto',\n            paddingRight: '15px'\n          }\n          // Aici se afiÈ™eazÄƒ conÈ›inutul preluat\n          ,\n          dangerouslySetInnerHTML: {\n            __html: documentContent.continut\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          style: closeButtonStyle,\n          children: \"\\xCEnchide\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClose,\n        style: closeIconStyle,\n        children: /*#__PURE__*/_jsxDEV(X, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n};\n_s(DocumentModal, \"noFXd+J2dLdAOiB3HKvP60YkUdg=\");\n_c = DocumentModal;\nvar _c;\n$RefreshReg$(_c, \"DocumentModal\");","map":{"version":3,"names":["React","useState","useEffect","doc","getDoc","db","X","jsxDEV","_jsxDEV","Fragment","_Fragment","modalOverlayStyle","modalContentStyle","closeButtonStyle","closeIconStyle","DocumentModal","documentId","onClose","_s","documentContent","setDocumentContent","loadingContent","setLoadingContent","fetchContent","docRef","docSnap","exists","data","continut","trim","console","error","alert","id","style","children","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","titlu","maxHeight","overflowY","paddingRight","dangerouslySetInnerHTML","__html","onClick","size","_c","$RefreshReg$"],"sources":["C:/Users/40741/IdeaProjects/lawsome-app/src/components/DocumentModal.jsx"],"sourcesContent":["// src/components/DocumentModal.jsx\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { doc, getDoc } from 'firebase/firestore';\r\nimport { db } from '../InitApp/firebase';\r\nimport { X } from \"lucide-react\";\r\n\r\n// (Stilurile rÄƒmÃ¢n neschimbate)\r\nconst modalOverlayStyle = { /* ... */ };\r\nconst modalContentStyle = { /* ... */ };\r\nconst closeButtonStyle = { /* ... */ };\r\nconst closeIconStyle = { /* ... */ };\r\n\r\nexport const DocumentModal = ({ documentId, onClose }) => {\r\n    const [documentContent, setDocumentContent] = useState(null);\r\n    const [loadingContent, setLoadingContent] = useState(true);\r\n\r\n    // FUNCTIE PENTRU PRELUAREA CONTINUTULUI LA DESCHIDEREA MODALULUI\r\n    useEffect(() => {\r\n        const fetchContent = async () => {\r\n            try {\r\n                setLoadingContent(true);\r\n                const docRef = doc(db, \"documentModels\", documentId);\r\n                const docSnap = await getDoc(docRef);\r\n\r\n                if (docSnap.exists()) {\r\n                    const data = docSnap.data();\r\n\r\n                    // ðŸš¨ VERIFICARE CRITICÄ‚ AICI:\r\n                    if (!data.continut || data.continut.trim() === '') {\r\n                        console.error(`Documentul (ID: ${documentId}) nu are cÃ¢mpul 'continut' populat.`, data);\r\n                        alert(\"Eroare: ConÈ›inutul text al documentului este gol sau lipseÈ™te din Firebase.\");\r\n                        onClose();\r\n                        return; // Oprim execuÈ›ia È™i Ã®nchidem modalul\r\n                    }\r\n\r\n                    setDocumentContent({ id: docSnap.id, ...data });\r\n\r\n                } else {\r\n                    alert(\"ConÈ›inutul documentului nu a fost gÄƒsit.\");\r\n                    onClose();\r\n                }\r\n                setLoadingContent(false);\r\n            } catch (error) {\r\n                console.error(\"Eroare la preluarea conÈ›inutului Firestore Ã®n modal:\", error);\r\n                alert(\"A apÄƒrut o eroare la Ã®ncÄƒrcarea conÈ›inutului.\");\r\n                onClose();\r\n            }\r\n        };\r\n\r\n        if (documentId) {\r\n            fetchContent();\r\n        }\r\n    }, [documentId, onClose]);\r\n\r\n    return (\r\n        <div style={modalOverlayStyle}>\r\n            <div style={modalContentStyle}>\r\n                {loadingContent || !documentContent ? (\r\n                    <p>Se Ã®ncarcÄƒ conÈ›inutul documentului...</p>\r\n                ) : (\r\n                    <>\r\n                        <h2 style={{ marginBottom: '15px' }}>{documentContent.titlu}</h2>\r\n                        <hr style={{ marginBottom: '20px' }}/>\r\n\r\n                        <div\r\n                            style={{ maxHeight: '70vh', overflowY: 'auto', paddingRight: '15px' }}\r\n                            // Aici se afiÈ™eazÄƒ conÈ›inutul preluat\r\n                            dangerouslySetInnerHTML={{ __html: documentContent.continut }}\r\n                        />\r\n                        <button onClick={onClose} style={closeButtonStyle}>\r\n                            ÃŽnchide\r\n                        </button>\r\n                    </>\r\n                )}\r\n                <button\r\n                    onClick={onClose}\r\n                    style={closeIconStyle}\r\n                >\r\n                    <X size={24} />\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};"],"mappings":";;AAAA;;AAEA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,GAAG,EAAEC,MAAM,QAAQ,oBAAoB;AAChD,SAASC,EAAE,QAAQ,qBAAqB;AACxC,SAASC,CAAC,QAAQ,cAAc;;AAEhC;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AACA,MAAMC,iBAAiB,GAAG,CAAE,UAAW;AACvC,MAAMC,iBAAiB,GAAG,CAAE,UAAW;AACvC,MAAMC,gBAAgB,GAAG,CAAE,UAAW;AACtC,MAAMC,cAAc,GAAG,CAAE,UAAW;AAEpC,OAAO,MAAMC,aAAa,GAAGA,CAAC;EAAEC,UAAU;EAAEC;AAAQ,CAAC,KAAK;EAAAC,EAAA;EACtD,MAAM,CAACC,eAAe,EAAEC,kBAAkB,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC;EAC5D,MAAM,CAACoB,cAAc,EAAEC,iBAAiB,CAAC,GAAGrB,QAAQ,CAAC,IAAI,CAAC;;EAE1D;EACAC,SAAS,CAAC,MAAM;IACZ,MAAMqB,YAAY,GAAG,MAAAA,CAAA,KAAY;MAC7B,IAAI;QACAD,iBAAiB,CAAC,IAAI,CAAC;QACvB,MAAME,MAAM,GAAGrB,GAAG,CAACE,EAAE,EAAE,gBAAgB,EAAEW,UAAU,CAAC;QACpD,MAAMS,OAAO,GAAG,MAAMrB,MAAM,CAACoB,MAAM,CAAC;QAEpC,IAAIC,OAAO,CAACC,MAAM,CAAC,CAAC,EAAE;UAClB,MAAMC,IAAI,GAAGF,OAAO,CAACE,IAAI,CAAC,CAAC;;UAE3B;UACA,IAAI,CAACA,IAAI,CAACC,QAAQ,IAAID,IAAI,CAACC,QAAQ,CAACC,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE;YAC/CC,OAAO,CAACC,KAAK,CAAC,mBAAmBf,UAAU,qCAAqC,EAAEW,IAAI,CAAC;YACvFK,KAAK,CAAC,6EAA6E,CAAC;YACpFf,OAAO,CAAC,CAAC;YACT,OAAO,CAAC;UACZ;UAEAG,kBAAkB,CAAC;YAAEa,EAAE,EAAER,OAAO,CAACQ,EAAE;YAAE,GAAGN;UAAK,CAAC,CAAC;QAEnD,CAAC,MAAM;UACHK,KAAK,CAAC,0CAA0C,CAAC;UACjDf,OAAO,CAAC,CAAC;QACb;QACAK,iBAAiB,CAAC,KAAK,CAAC;MAC5B,CAAC,CAAC,OAAOS,KAAK,EAAE;QACZD,OAAO,CAACC,KAAK,CAAC,sDAAsD,EAAEA,KAAK,CAAC;QAC5EC,KAAK,CAAC,+CAA+C,CAAC;QACtDf,OAAO,CAAC,CAAC;MACb;IACJ,CAAC;IAED,IAAID,UAAU,EAAE;MACZO,YAAY,CAAC,CAAC;IAClB;EACJ,CAAC,EAAE,CAACP,UAAU,EAAEC,OAAO,CAAC,CAAC;EAEzB,oBACIT,OAAA;IAAK0B,KAAK,EAAEvB,iBAAkB;IAAAwB,QAAA,eAC1B3B,OAAA;MAAK0B,KAAK,EAAEtB,iBAAkB;MAAAuB,QAAA,GACzBd,cAAc,IAAI,CAACF,eAAe,gBAC/BX,OAAA;QAAA2B,QAAA,EAAG;MAAqC;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,gBAE5C/B,OAAA,CAAAE,SAAA;QAAAyB,QAAA,gBACI3B,OAAA;UAAI0B,KAAK,EAAE;YAAEM,YAAY,EAAE;UAAO,CAAE;UAAAL,QAAA,EAAEhB,eAAe,CAACsB;QAAK;UAAAL,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACjE/B,OAAA;UAAI0B,KAAK,EAAE;YAAEM,YAAY,EAAE;UAAO;QAAE;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAC,CAAC,eAEtC/B,OAAA;UACI0B,KAAK,EAAE;YAAEQ,SAAS,EAAE,MAAM;YAAEC,SAAS,EAAE,MAAM;YAAEC,YAAY,EAAE;UAAO;UACpE;UAAA;UACAC,uBAAuB,EAAE;YAAEC,MAAM,EAAE3B,eAAe,CAACS;UAAS;QAAE;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjE,CAAC,eACF/B,OAAA;UAAQuC,OAAO,EAAE9B,OAAQ;UAACiB,KAAK,EAAErB,gBAAiB;UAAAsB,QAAA,EAAC;QAEnD;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA,eACX,CACL,eACD/B,OAAA;QACIuC,OAAO,EAAE9B,OAAQ;QACjBiB,KAAK,EAAEpB,cAAe;QAAAqB,QAAA,eAEtB3B,OAAA,CAACF,CAAC;UAAC0C,IAAI,EAAE;QAAG;UAAAZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACX,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACR;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd,CAAC;AAACrB,EAAA,CAvEWH,aAAa;AAAAkC,EAAA,GAAblC,aAAa;AAAA,IAAAkC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}