{"ast":null,"code":"var _s = $RefreshSig$();\n// src/hooks/useDocumentData.js\n\nimport { useState, useEffect } from 'react';\nimport { collection, getDocs, addDoc } from 'firebase/firestore';\nimport { db } from '../InitApp/firebase';\nexport const useDocumentData = () => {\n  _s();\n  const [documents, setDocuments] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const loadDocs = async () => {\n      try {\n        const snapshot = await getDocs(collection(db, \"documentModels\"));\n        const list = snapshot.docs.map(doc => ({\n          id: doc.id,\n          ...doc.data()\n        }));\n        setDocuments(list);\n        setLoading(false);\n      } catch (err) {\n        console.error(\"Eroare la încărcare:\", err);\n        setError(\"Nu s-au putut încărca documentele din Firebase.\");\n        setLoading(false);\n      }\n    };\n    loadDocs();\n  }, []);\n  const addNewDocument = async newDocData => {\n    try {\n      const docRef = await addDoc(collection(db, \"documentModels\"), newDocData);\n      const newDoc = {\n        id: docRef.id,\n        ...newDocData\n      };\n      setDocuments(prevDocs => [...prevDocs, newDoc]);\n      return newDoc;\n    } catch (err) {\n      console.error(\"Eroare la adăugare:\", err);\n      throw err;\n    }\n  };\n  return {\n    documents,\n    loading,\n    error,\n    addNewDocument\n  };\n};\n_s(useDocumentData, \"vPpX9y5GrjLlQ9TCkQ56wUrwt2s=\");","map":{"version":3,"names":["useState","useEffect","collection","getDocs","addDoc","db","useDocumentData","_s","documents","setDocuments","loading","setLoading","error","setError","loadDocs","snapshot","list","docs","map","doc","id","data","err","console","addNewDocument","newDocData","docRef","newDoc","prevDocs"],"sources":["C:/Users/40741/IdeaProjects/lawsome-app/src/hooks/useDocumentData.js"],"sourcesContent":["// src/hooks/useDocumentData.js\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { collection, getDocs, addDoc } from 'firebase/firestore';\r\nimport { db } from '../InitApp/firebase';\r\n\r\nexport const useDocumentData = () => {\r\n    const [documents, setDocuments] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const loadDocs = async () => {\r\n            try {\r\n                const snapshot = await getDocs(collection(db, \"documentModels\"));\r\n                const list = snapshot.docs.map(doc => ({\r\n                    id: doc.id,\r\n                    ...doc.data()\r\n                }));\r\n\r\n                setDocuments(list);\r\n                setLoading(false);\r\n            } catch (err) {\r\n                console.error(\"Eroare la încărcare:\", err);\r\n                setError(\"Nu s-au putut încărca documentele din Firebase.\");\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        loadDocs();\r\n    }, []);\r\n\r\n    const addNewDocument = async (newDocData) => {\r\n        try {\r\n            const docRef = await addDoc(collection(db, \"documentModels\"), newDocData);\r\n            const newDoc = { id: docRef.id, ...newDocData };\r\n            setDocuments(prevDocs => [...prevDocs, newDoc]);\r\n            return newDoc;\r\n        } catch (err) {\r\n            console.error(\"Eroare la adăugare:\", err);\r\n            throw err;\r\n        }\r\n    };\r\n\r\n    return { documents, loading, error, addNewDocument };\r\n};\r\n"],"mappings":";AAAA;;AAEA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,UAAU,EAAEC,OAAO,EAAEC,MAAM,QAAQ,oBAAoB;AAChE,SAASC,EAAE,QAAQ,qBAAqB;AAExC,OAAO,MAAMC,eAAe,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACjC,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACU,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACY,KAAK,EAAEC,QAAQ,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EAExCC,SAAS,CAAC,MAAM;IACZ,MAAMa,QAAQ,GAAG,MAAAA,CAAA,KAAY;MACzB,IAAI;QACA,MAAMC,QAAQ,GAAG,MAAMZ,OAAO,CAACD,UAAU,CAACG,EAAE,EAAE,gBAAgB,CAAC,CAAC;QAChE,MAAMW,IAAI,GAAGD,QAAQ,CAACE,IAAI,CAACC,GAAG,CAACC,GAAG,KAAK;UACnCC,EAAE,EAAED,GAAG,CAACC,EAAE;UACV,GAAGD,GAAG,CAACE,IAAI,CAAC;QAChB,CAAC,CAAC,CAAC;QAEHZ,YAAY,CAACO,IAAI,CAAC;QAClBL,UAAU,CAAC,KAAK,CAAC;MACrB,CAAC,CAAC,OAAOW,GAAG,EAAE;QACVC,OAAO,CAACX,KAAK,CAAC,sBAAsB,EAAEU,GAAG,CAAC;QAC1CT,QAAQ,CAAC,iDAAiD,CAAC;QAC3DF,UAAU,CAAC,KAAK,CAAC;MACrB;IACJ,CAAC;IAEDG,QAAQ,CAAC,CAAC;EACd,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMU,cAAc,GAAG,MAAOC,UAAU,IAAK;IACzC,IAAI;MACA,MAAMC,MAAM,GAAG,MAAMtB,MAAM,CAACF,UAAU,CAACG,EAAE,EAAE,gBAAgB,CAAC,EAAEoB,UAAU,CAAC;MACzE,MAAME,MAAM,GAAG;QAAEP,EAAE,EAAEM,MAAM,CAACN,EAAE;QAAE,GAAGK;MAAW,CAAC;MAC/ChB,YAAY,CAACmB,QAAQ,IAAI,CAAC,GAAGA,QAAQ,EAAED,MAAM,CAAC,CAAC;MAC/C,OAAOA,MAAM;IACjB,CAAC,CAAC,OAAOL,GAAG,EAAE;MACVC,OAAO,CAACX,KAAK,CAAC,qBAAqB,EAAEU,GAAG,CAAC;MACzC,MAAMA,GAAG;IACb;EACJ,CAAC;EAED,OAAO;IAAEd,SAAS;IAAEE,OAAO;IAAEE,KAAK;IAAEY;EAAe,CAAC;AACxD,CAAC;AAACjB,EAAA,CAvCWD,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}