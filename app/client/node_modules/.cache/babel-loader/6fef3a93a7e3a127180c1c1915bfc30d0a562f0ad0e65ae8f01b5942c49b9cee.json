{"ast":null,"code":"export class ChatFlow {\n  constructor(documentTypes) {\n    this.documentTypes = documentTypes;\n    this.reset();\n  }\n  reset() {\n    this.selectedDoc = null;\n    this.currentStep = 0;\n    this.formData = {};\n  }\n  isDocumentSelected() {\n    return !!this.selectedDoc;\n  }\n  selectDocument(type) {\n    if (!this.documentTypes[type]) {\n      throw new Error(\"Invalid document type\");\n    }\n    this.selectedDoc = type;\n    return this.documentTypes[type].questions[0];\n  }\n  handleAnswer(answer) {\n    const doc = this.documentTypes[this.selectedDoc];\n    const field = doc.fields[this.currentStep];\n    this.formData[field] = answer;\n    if (this.currentStep < doc.questions.length - 1) {\n      this.currentStep++;\n      return {\n        done: false,\n        nextQuestion: doc.questions[this.currentStep]\n      };\n    }\n    return {\n      done: true,\n      payload: {\n        ...this.formData,\n        DocumentType: this.selectedDoc\n      }\n    };\n  }\n}","map":{"version":3,"names":["ChatFlow","constructor","documentTypes","reset","selectedDoc","currentStep","formData","isDocumentSelected","selectDocument","type","Error","questions","handleAnswer","answer","doc","field","fields","length","done","nextQuestion","payload","DocumentType"],"sources":["C:/Users/40741/IdeaProjects/lawsome-app/src/components/chat/ChatFlow.js"],"sourcesContent":["export class ChatFlow {\r\n    constructor(documentTypes) {\r\n        this.documentTypes = documentTypes;\r\n        this.reset();\r\n    }\r\n\r\n    reset() {\r\n        this.selectedDoc = null;\r\n        this.currentStep = 0;\r\n        this.formData = {};\r\n    }\r\n\r\n    isDocumentSelected() {\r\n        return !!this.selectedDoc;\r\n    }\r\n\r\n    selectDocument(type) {\r\n        if (!this.documentTypes[type]) {\r\n            throw new Error(\"Invalid document type\");\r\n        }\r\n        this.selectedDoc = type;\r\n        return this.documentTypes[type].questions[0];\r\n    }\r\n\r\n    handleAnswer(answer) {\r\n        const doc = this.documentTypes[this.selectedDoc];\r\n        const field = doc.fields[this.currentStep];\r\n\r\n        this.formData[field] = answer;\r\n\r\n        if (this.currentStep < doc.questions.length - 1) {\r\n            this.currentStep++;\r\n            return {\r\n                done: false,\r\n                nextQuestion: doc.questions[this.currentStep]\r\n            };\r\n        }\r\n\r\n        return {\r\n            done: true,\r\n            payload: {\r\n                ...this.formData,\r\n                DocumentType: this.selectedDoc\r\n            }\r\n        };\r\n    }\r\n}\r\n"],"mappings":"AAAA,OAAO,MAAMA,QAAQ,CAAC;EAClBC,WAAWA,CAACC,aAAa,EAAE;IACvB,IAAI,CAACA,aAAa,GAAGA,aAAa;IAClC,IAAI,CAACC,KAAK,CAAC,CAAC;EAChB;EAEAA,KAAKA,CAAA,EAAG;IACJ,IAAI,CAACC,WAAW,GAAG,IAAI;IACvB,IAAI,CAACC,WAAW,GAAG,CAAC;IACpB,IAAI,CAACC,QAAQ,GAAG,CAAC,CAAC;EACtB;EAEAC,kBAAkBA,CAAA,EAAG;IACjB,OAAO,CAAC,CAAC,IAAI,CAACH,WAAW;EAC7B;EAEAI,cAAcA,CAACC,IAAI,EAAE;IACjB,IAAI,CAAC,IAAI,CAACP,aAAa,CAACO,IAAI,CAAC,EAAE;MAC3B,MAAM,IAAIC,KAAK,CAAC,uBAAuB,CAAC;IAC5C;IACA,IAAI,CAACN,WAAW,GAAGK,IAAI;IACvB,OAAO,IAAI,CAACP,aAAa,CAACO,IAAI,CAAC,CAACE,SAAS,CAAC,CAAC,CAAC;EAChD;EAEAC,YAAYA,CAACC,MAAM,EAAE;IACjB,MAAMC,GAAG,GAAG,IAAI,CAACZ,aAAa,CAAC,IAAI,CAACE,WAAW,CAAC;IAChD,MAAMW,KAAK,GAAGD,GAAG,CAACE,MAAM,CAAC,IAAI,CAACX,WAAW,CAAC;IAE1C,IAAI,CAACC,QAAQ,CAACS,KAAK,CAAC,GAAGF,MAAM;IAE7B,IAAI,IAAI,CAACR,WAAW,GAAGS,GAAG,CAACH,SAAS,CAACM,MAAM,GAAG,CAAC,EAAE;MAC7C,IAAI,CAACZ,WAAW,EAAE;MAClB,OAAO;QACHa,IAAI,EAAE,KAAK;QACXC,YAAY,EAAEL,GAAG,CAACH,SAAS,CAAC,IAAI,CAACN,WAAW;MAChD,CAAC;IACL;IAEA,OAAO;MACHa,IAAI,EAAE,IAAI;MACVE,OAAO,EAAE;QACL,GAAG,IAAI,CAACd,QAAQ;QAChBe,YAAY,EAAE,IAAI,CAACjB;MACvB;IACJ,CAAC;EACL;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}