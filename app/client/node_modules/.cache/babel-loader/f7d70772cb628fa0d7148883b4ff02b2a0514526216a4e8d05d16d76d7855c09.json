{"ast":null,"code":"const BASE_URL = \"https://unilingual-tanisha-dissidently.ngrok-free.dev\";\nexport const messageService = {\n  // 1. GENERATION (Returns Blob)\n  async sendMessage(payload) {\n    const response = await fetch(`${BASE_URL}/api/generate`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(payload)\n    });\n    if (!response.ok) {\n      throw new Error(\"Eroare server la generare\");\n    }\n    return await response.blob();\n  },\n  // 2. ANALYSIS (Uploads File, Returns JSON/Text)\n  async analyzeDocument(file) {\n    const formData = new FormData();\n    formData.append('file', file);\n    const response = await fetch(`${BASE_URL}/api/explain`, {\n      method: \"POST\",\n      body: formData\n    });\n    if (!response.ok) {\n      throw new Error(\"Eroare server la analiză\");\n    }\n    return await response.json(); // Expecting { result: \"Analysis text...\" }\n  },\n  // 3. Q&A (Sends Text, Returns JSON/Text)\n  async askQuestion(question) {\n    const response = await fetch(`${BASE_URL}/api/qa`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        question\n      })\n    });\n    if (!response.ok) {\n      throw new Error(\"Eroare server la Q&A\");\n    }\n    return await response.json(); // Expecting { answer: \"Answer text...\" }\n  }\n};","map":{"version":3,"names":["BASE_URL","messageService","sendMessage","payload","response","fetch","method","headers","body","JSON","stringify","ok","Error","blob","analyzeDocument","file","formData","FormData","append","json","askQuestion","question"],"sources":["C:/Users/40741/IdeaProjects/lawsome-app/src/components/chat/messageService.js"],"sourcesContent":["const BASE_URL = \"https://unilingual-tanisha-dissidently.ngrok-free.dev\";\r\n\r\nexport const messageService = {\r\n    // 1. GENERATION (Returns Blob)\r\n    async sendMessage(payload) {\r\n        const response = await fetch(`${BASE_URL}/api/generate`, {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify(payload)\r\n        });\r\n\r\n        if (!response.ok) {\r\n            throw new Error(\"Eroare server la generare\");\r\n        }\r\n\r\n        return await response.blob();\r\n    },\r\n\r\n    // 2. ANALYSIS (Uploads File, Returns JSON/Text)\r\n    async analyzeDocument(file) {\r\n        const formData = new FormData();\r\n        formData.append('file', file);\r\n\r\n        const response = await fetch(`${BASE_URL}/api/explain`, {\r\n            method: \"POST\",\r\n            body: formData\r\n        });\r\n\r\n        if (!response.ok) {\r\n            throw new Error(\"Eroare server la analiză\");\r\n        }\r\n\r\n        return await response.json(); // Expecting { result: \"Analysis text...\" }\r\n    },\r\n\r\n    // 3. Q&A (Sends Text, Returns JSON/Text)\r\n    async askQuestion(question) {\r\n        const response = await fetch(`${BASE_URL}/api/qa`, {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify({ question })\r\n        });\r\n\r\n        if (!response.ok) {\r\n            throw new Error(\"Eroare server la Q&A\");\r\n        }\r\n\r\n        return await response.json(); // Expecting { answer: \"Answer text...\" }\r\n    }\r\n};\r\n"],"mappings":"AAAA,MAAMA,QAAQ,GAAG,uDAAuD;AAExE,OAAO,MAAMC,cAAc,GAAG;EAC1B;EACA,MAAMC,WAAWA,CAACC,OAAO,EAAE;IACvB,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGL,QAAQ,eAAe,EAAE;MACrDM,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACL,cAAc,EAAE;MACpB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACP,OAAO;IAChC,CAAC,CAAC;IAEF,IAAI,CAACC,QAAQ,CAACO,EAAE,EAAE;MACd,MAAM,IAAIC,KAAK,CAAC,2BAA2B,CAAC;IAChD;IAEA,OAAO,MAAMR,QAAQ,CAACS,IAAI,CAAC,CAAC;EAChC,CAAC;EAED;EACA,MAAMC,eAAeA,CAACC,IAAI,EAAE;IACxB,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEH,IAAI,CAAC;IAE7B,MAAMX,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGL,QAAQ,cAAc,EAAE;MACpDM,MAAM,EAAE,MAAM;MACdE,IAAI,EAAEQ;IACV,CAAC,CAAC;IAEF,IAAI,CAACZ,QAAQ,CAACO,EAAE,EAAE;MACd,MAAM,IAAIC,KAAK,CAAC,0BAA0B,CAAC;IAC/C;IAEA,OAAO,MAAMR,QAAQ,CAACe,IAAI,CAAC,CAAC,CAAC,CAAC;EAClC,CAAC;EAED;EACA,MAAMC,WAAWA,CAACC,QAAQ,EAAE;IACxB,MAAMjB,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGL,QAAQ,SAAS,EAAE;MAC/CM,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACL,cAAc,EAAE;MACpB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEW;MAAS,CAAC;IACrC,CAAC,CAAC;IAEF,IAAI,CAACjB,QAAQ,CAACO,EAAE,EAAE;MACd,MAAM,IAAIC,KAAK,CAAC,sBAAsB,CAAC;IAC3C;IAEA,OAAO,MAAMR,QAAQ,CAACe,IAAI,CAAC,CAAC,CAAC,CAAC;EAClC;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}