{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\40741\\\\IdeaProjects\\\\lawsome-app\\\\src\\\\components\\\\DocumentModal.jsx\",\n  _s = $RefreshSig$();\n// src/components/DocumentModal.jsx\n\nimport React, { useState, useEffect } from 'react';\nimport { doc, getDoc } from 'firebase/firestore';\nimport { db } from '../InitApp/firebase'; // Asigurați-vă că este calea corectă!\nimport { X } from \"lucide-react\";\n\n// Obiecte de stil pentru Modal (pentru simplitate)\n// Puteți muta și acestea într-un fișier separat de stiluri!\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst modalOverlayStyle = {/* ... (stilurile dvs. anterioare) ... */};\nconst modalContentStyle = {/* ... (stilurile dvs. anterioare) ... */};\nconst closeButtonStyle = {/* ... (stilurile dvs. anterioare) ... */};\nconst closeIconStyle = {/* ... (stilurile dvs. anterioare) ... */};\nexport const DocumentModal = ({\n  documentId,\n  onClose\n}) => {\n  _s();\n  const [documentContent, setDocumentContent] = useState(null);\n  const [loadingContent, setLoadingContent] = useState(true);\n\n  // FUNCTIE PENTRU PRELUAREA CONTINUTULUI LA DESCHIDEREA MODALULUI\n  useEffect(() => {\n    const fetchContent = async () => {\n      try {\n        setLoadingContent(true);\n        const docRef = doc(db, \"documentModels\", documentId);\n        const docSnap = await getDoc(docRef);\n        if (docSnap.exists()) {\n          setDocumentContent({\n            id: docSnap.id,\n            ...docSnap.data()\n          });\n        } else {\n          alert(\"Conținutul documentului nu a fost găsit.\");\n          onClose();\n        }\n        setLoadingContent(false);\n      } catch (error) {\n        console.error(\"Eroare la preluarea conținutului:\", error);\n        alert(\"A apărut o eroare la încărcarea conținutului.\");\n        onClose();\n      }\n    };\n    if (documentId) {\n      fetchContent();\n    }\n  }, [documentId, onClose]); // Rulare la schimbarea documentId\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: modalOverlayStyle,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: modalContentStyle,\n      children: [loadingContent || !documentContent ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Se \\xEEncarc\\u0103 con\\u021Binutul documentului...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            marginBottom: '15px'\n          },\n          children: documentContent.titlu\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n          style: {\n            marginBottom: '20px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            maxHeight: '70vh',\n            overflowY: 'auto',\n            paddingRight: '15px'\n          },\n          dangerouslySetInnerHTML: {\n            __html: documentContent.continut\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          style: closeButtonStyle,\n          children: \"\\xCEnchide\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClose,\n        style: closeIconStyle,\n        children: /*#__PURE__*/_jsxDEV(X, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n};\n_s(DocumentModal, \"noFXd+J2dLdAOiB3HKvP60YkUdg=\");\n_c = DocumentModal;\nvar _c;\n$RefreshReg$(_c, \"DocumentModal\");","map":{"version":3,"names":["React","useState","useEffect","doc","getDoc","db","X","jsxDEV","_jsxDEV","Fragment","_Fragment","modalOverlayStyle","modalContentStyle","closeButtonStyle","closeIconStyle","DocumentModal","documentId","onClose","_s","documentContent","setDocumentContent","loadingContent","setLoadingContent","fetchContent","docRef","docSnap","exists","id","data","alert","error","console","style","children","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","titlu","maxHeight","overflowY","paddingRight","dangerouslySetInnerHTML","__html","continut","onClick","size","_c","$RefreshReg$"],"sources":["C:/Users/40741/IdeaProjects/lawsome-app/src/components/DocumentModal.jsx"],"sourcesContent":["// src/components/DocumentModal.jsx\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { doc, getDoc } from 'firebase/firestore';\r\nimport { db } from '../InitApp/firebase'; // Asigurați-vă că este calea corectă!\r\nimport { X } from \"lucide-react\";\r\n\r\n// Obiecte de stil pentru Modal (pentru simplitate)\r\n// Puteți muta și acestea într-un fișier separat de stiluri!\r\n\r\nconst modalOverlayStyle = { /* ... (stilurile dvs. anterioare) ... */ };\r\nconst modalContentStyle = { /* ... (stilurile dvs. anterioare) ... */ };\r\nconst closeButtonStyle = { /* ... (stilurile dvs. anterioare) ... */ };\r\nconst closeIconStyle = { /* ... (stilurile dvs. anterioare) ... */ };\r\n\r\nexport const DocumentModal = ({ documentId, onClose }) => {\r\n    const [documentContent, setDocumentContent] = useState(null);\r\n    const [loadingContent, setLoadingContent] = useState(true);\r\n\r\n    // FUNCTIE PENTRU PRELUAREA CONTINUTULUI LA DESCHIDEREA MODALULUI\r\n    useEffect(() => {\r\n        const fetchContent = async () => {\r\n            try {\r\n                setLoadingContent(true);\r\n                const docRef = doc(db, \"documentModels\", documentId);\r\n                const docSnap = await getDoc(docRef);\r\n\r\n                if (docSnap.exists()) {\r\n                    setDocumentContent({ id: docSnap.id, ...docSnap.data() });\r\n                } else {\r\n                    alert(\"Conținutul documentului nu a fost găsit.\");\r\n                    onClose();\r\n                }\r\n                setLoadingContent(false);\r\n            } catch (error) {\r\n                console.error(\"Eroare la preluarea conținutului:\", error);\r\n                alert(\"A apărut o eroare la încărcarea conținutului.\");\r\n                onClose();\r\n            }\r\n        };\r\n\r\n        if (documentId) {\r\n            fetchContent();\r\n        }\r\n    }, [documentId, onClose]); // Rulare la schimbarea documentId\r\n\r\n    return (\r\n        <div style={modalOverlayStyle}>\r\n            <div style={modalContentStyle}>\r\n                {loadingContent || !documentContent ? (\r\n                    <p>Se încarcă conținutul documentului...</p>\r\n                ) : (\r\n                    <>\r\n                        <h2 style={{ marginBottom: '15px' }}>{documentContent.titlu}</h2>\r\n                        <hr style={{ marginBottom: '20px' }}/>\r\n                        {/* ATENȚIE: dangerouslySetInnerHTML */}\r\n                        <div\r\n                            style={{ maxHeight: '70vh', overflowY: 'auto', paddingRight: '15px' }}\r\n                            dangerouslySetInnerHTML={{ __html: documentContent.continut }}\r\n                        />\r\n                        <button onClick={onClose} style={closeButtonStyle}>\r\n                            Închide\r\n                        </button>\r\n                    </>\r\n                )}\r\n                <button\r\n                    onClick={onClose}\r\n                    style={closeIconStyle}\r\n                >\r\n                    <X size={24} />\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}